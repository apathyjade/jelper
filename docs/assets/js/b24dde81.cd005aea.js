"use strict";(self.webpackChunk_jelper_website=self.webpackChunk_jelper_website||[]).push([[9863],{6200:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>t,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>m});const i=JSON.parse('{"id":"promise/index","title":"promise","description":"promise-api","source":"@site/docs/promise/index.mdx","sourceDirName":"promise","slug":"/promise/","permalink":"/jelper/docs/promise/","draft":false,"unlisted":false,"editUrl":"https://github.com/apathyjade/jelper/tree/master/packages/docs/promise/index.mdx","tags":[],"version":"current","frontMatter":{"title":"promise","description":"promise-api"},"sidebar":"tutorialSidebar","previous":{"title":"useValue","permalink":"/jelper/docs/hooks/useValue/"},"next":{"title":"store","permalink":"/jelper/docs/store/"}}');var n=s(3274),l=s(4252),o=(s(7165),s(4524)),a=s(8167);const c={title:"promise",description:"promise-api"},d=void 0,t={},m=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:3},{value:"\u6837\u4f8b",id:"\u6837\u4f8b",level:3},{value:"toPromise",id:"topromise",level:4},{value:"callLikeSerial",id:"calllikeserial",level:4},{value:"buildPromiseHandler",id:"buildpromisehandler",level:4},{value:"buildCacheAsyncFn",id:"buildcacheasyncfn",level:4},{value:"Api",id:"api",level:2},{value:"toPromise",id:"topromise-1",level:3},{value:"callLikeSerial",id:"calllikeserial-1",level:3},{value:"buildPromiseHandler",id:"buildpromisehandler-1",level:3},{value:"buildCacheAsyncFn",id:"buildcacheasyncfn-1",level:3}];function p(e){const r={code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["\u65b9\u4fbf ",(0,n.jsx)("em",{children:"Promise"})," \u4f7f\u7528\u7684\u5de5\u5177\u51fd\u6570"]}),"\n","\n",(0,n.jsx)(r.h3,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,n.jsx)(o.A,{name:"@jelper/promise"}),"\n",(0,n.jsx)(r.h3,{id:"\u6837\u4f8b",children:"\u6837\u4f8b"}),"\n",(0,n.jsx)(r.h4,{id:"topromise",children:"toPromise"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"import { toPromise } from '@jelper/promise';\r\n\r\n\r\n// \u8fd4\u56de resolove \u60c5\u51b5\r\ntoPromise(1) // Promise.resolove(1);\r\ntoPromise(true) // Promise.resolove(true);\r\ntoPromise('xxxx') // Promise.resolove('xxxx');\r\ntoPromise({}) // Promise.resolove({});\r\ntoPromise(() => () => 'ok') // Promise.resolove('ok');\r\ntoPromise(Promise.resolve('resolove')) //Promise.resolove('resolove');\r\n\r\n// \u8fd4\u56de reject \u60c5\u51b5\r\ntoPromise(false) // Promise.reject(undefined);\r\ntoPromise(() => () => false) // Promise.reject(undefined);\r\ntoPromise(Promise.reject('reject')) // Promise.reject('reject');\r\n\n"})}),"\n",(0,n.jsx)(r.h4,{id:"calllikeserial",children:"callLikeSerial"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"import { callLikeSerial } from '@jelper/promise';\r\n\r\ncallLikeSerial([\r\n  () => console.log('begin'),\r\n  () => new Promise((r) => {\r\n    setTimeout(() => {\r\n      console.log('Promise');\r\n      r('result');\r\n    }, 1000);\r\n  }),\r\n  (data) => console.log(data),\r\n]).then(() => console.log('end'));\r\n\r\n// begin promise result end\r\n\n"})}),"\n",(0,n.jsx)(r.h4,{id:"buildpromisehandler",children:"buildPromiseHandler"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"import { buildPromiseHandler } from '@jelper/promise';\r\n\r\nconst [promise, resolve, reject] = buildPromiseHandler();\r\n\r\npromise.then(() => {\r\n  // \u6267\u884c\r\n})\r\n\r\nresolve(); // or reject();\r\n\n"})}),"\n",(0,n.jsx)(r.h4,{id:"buildcacheasyncfn",children:"buildCacheAsyncFn"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-tsx",children:"import { buildCacheAsyncFn } from '@jelper/promise';\r\n\r\nconst getAsyncData = buildCacheAsyncFn(() => {\r\n  console.log('\u6267\u884c fn')\r\n  return new Promise((r) => {\r\n    setTimeout(() => {\r\n      r('result');\r\n    }, 1000);\r\n  });\r\n});\r\n\r\nconsole.log(getAsyncData());\r\nconsole.log(getAsyncData());\r\n\r\n// \u6267\u884c fn\r\n// result\r\n// result\r\n\n"})}),"\n",(0,n.jsx)(r.h2,{id:"api",children:"Api"}),"\n",(0,n.jsx)(r.h3,{id:"topromise-1",children:"toPromise"}),"\n",(0,n.jsxs)(r.p,{children:["\u5904\u7406\u94a9\u5b50\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u5c06\u4e0d\u540c\u7c7b\u578b\u6570\u636e\u8f6c\u6210",(0,n.jsx)("em",{children:"promise"}),"\u5b9e\u4f8b\uff0c\u65b9\u4fbf\u6267\u884c\u540e\u7eed\u64cd\u4f5c"]}),"\n",(0,n.jsx)(a.A,{dataSource:[{param:"toPromise",desc:"\u6784\u5efa\u5b9e\u4f8b",type:"(prpos: any) => Promise<any>",defValue:"--",version:""}]}),"\n",(0,n.jsx)(r.h3,{id:"calllikeserial-1",children:"callLikeSerial"}),"\n",(0,n.jsx)(r.p,{children:"\u94fe\u5f0f\u8c03\u7528\u65b9\u6cd5"}),"\n",(0,n.jsx)(a.A,{dataSource:[{param:"callLikeSerial",desc:"\u6784\u5efa\u5b9e\u4f8b",type:"(prpos: Array<() => Promise>) => Promise<any>",defValue:"--",version:""}]}),"\n",(0,n.jsx)(r.h3,{id:"buildpromisehandler-1",children:"buildPromiseHandler"}),"\n",(0,n.jsx)(r.p,{children:"\u6784\u5efa Promise \u53e5\u67c4\uff0c\u5c06 promise\u7684 resolve reject \u66b4\u9732\u51fa\u53bb"}),"\n",(0,n.jsx)(a.A,{dataSource:[{param:"callLikeSerial",desc:"\u6784\u5efa\u5b9e\u4f8b",type:"() => [promise, resolove, reject]",defValue:"--",version:""}]}),"\n",(0,n.jsx)(r.h3,{id:"buildcacheasyncfn-1",children:"buildCacheAsyncFn"}),"\n",(0,n.jsx)(r.p,{children:"\u6784\u5efa\u7f13\u5b58\u7ed3\u679c\u7684\u5f02\u6b65\u51fd\u6570"}),"\n",(0,n.jsx)(a.A,{dataSource:[{param:"buildCacheAsyncFn",desc:"\u6784\u5efa\u5b9e\u4f8b",type:"<T, R>(porps: ((p: T) => Promise<R>)) => (p: T) => Promise<R>",defValue:"--",version:""}]})]})}function u(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}}}]);