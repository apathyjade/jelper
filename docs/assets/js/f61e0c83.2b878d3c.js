"use strict";(self.webpackChunk_jelper_website=self.webpackChunk_jelper_website||[]).push([[6041],{8399:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>y,default:()=>x,frontMatter:()=>f,metadata:()=>i,toc:()=>j});const i=JSON.parse('{"id":"notify/index","title":"notify","description":"\u901a\u77e5\u5668, \u89e3\u51b3\u8de8\u6a21\u5757\u4f9d\u8d56\u95ee\u9898","source":"@site/docs/notify/index.mdx","sourceDirName":"notify","slug":"/notify/","permalink":"/jelper/docs/notify/","draft":false,"unlisted":false,"editUrl":"https://github.com/apathyjade/jelper/tree/master/packages/docs/notify/index.mdx","tags":[],"version":"current","frontMatter":{"title":"notify","order":1},"sidebar":"tutorialSidebar","previous":{"title":"useValue","permalink":"/jelper/docs/hooks/useValue/"},"next":{"title":"promise","permalink":"/jelper/docs/promise/"}}');var r=n(3274),o=n(4252),s=n(6220),c=n(9474),l=n(1139);const d=(()=>{const e=new Set;return{notify:t=>{e.forEach((e=>e(t)))},on:t=>(e.add(t),()=>e.delete(t)),once:t=>{const n=i=>{t(i),e.delete(n)};return e.add(n),()=>e.delete(n)},clear:()=>{e.clear()}}})(),a=()=>{const[e,t]=(0,c.useState)(0);return(0,c.useEffect)((()=>d.on(t)),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Ay,{onClick:()=>d.notify(e+1),children:"\u7d2f\u52a0"})," => \u6570\u5b57\uff1a",e]})},u=()=>(0,r.jsx)(a,{});var p=n(6016);const f={title:"notify",order:1},y=void 0,h={},j=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:3},{value:"\u6837\u4f8b",id:"\u6837\u4f8b",level:3},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:4},{value:"type",id:"type",level:3}];function m(e){const t={code:"code",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"\u901a\u77e5\u5668, \u89e3\u51b3\u8de8\u6a21\u5757\u4f9d\u8d56\u95ee\u9898"}),"\n","\n",(0,r.jsx)(t.h3,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,r.jsx)(p.A,{name:"@jelper/notify"}),"\n",(0,r.jsx)(t.h3,{id:"\u6837\u4f8b",children:"\u6837\u4f8b"}),"\n",(0,r.jsx)(t.h4,{id:"\u4f7f\u7528",children:"\u4f7f\u7528"}),"\n",(0,r.jsx)(s.A,{title:"",desc:"",text:"import React, { useState, useEffect } from 'react';\nimport { Button } from 'antd';\nimport notify from '@jelper/notify';\n\nconst clickNotify = notify<number>();\n\nconst TestCom = () => {\n\n  const [cnt, setCnt] = useState(0);\n\n  useEffect(() => {\n    return clickNotify.on(setCnt);\n  }, []);\n\n  return (\n    <div>\n      <Button onClick={() => clickNotify.notify(cnt + 1)} >\u7d2f\u52a0</Button> => \u6570\u5b57\uff1a{cnt}\n    </div>\n  );\n};\n\nexport default () => {\n  return (<TestCom />)\n};\n\n\n",children:(0,r.jsx)(u,{})}),"\n",(0,r.jsx)(t.h3,{id:"type",children:"type"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"type MoudleType = <T = void>() => {\n    notify: (data: T) => void;\n    on: (callback: (data: T) => void) => Unsubscribe;\n    once: (callback: (data: T) => void) => Unsubscribe;\n    clear: () => void;\n};\n"})})]})}function x(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}}}]);